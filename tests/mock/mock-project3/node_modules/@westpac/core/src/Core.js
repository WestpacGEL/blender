/** @jsx jsx */

import { jsx } from '@emotion/core';
import { createContext, useContext } from 'react';

export const BrandContext = createContext();

export const useBrand = () => {
	const brandObject = useContext(BrandContext);
	const errorMessage = `You need to wrap your components in the Core component.`;

	if (!brandObject) {
		throw new Error(errorMessage);
	}

	return brandObject;
};

export function Core({ brand, children }) {
	return (
		<BrandContext.Provider value={brand}>
			<div
				css={{
					label: `core`,
					background: 'rebeccapurple',
					':after': {
						content: '"THIS IS CORE!!!!"',
					},
				}}
			>
				{children}
			</div>
		</BrandContext.Provider>
	);
}
